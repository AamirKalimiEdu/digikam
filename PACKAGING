Notice to make release tarballs from SVN
----------------------------------------

1/ Update the release info in these files and commit it to svn :
   - digikam/version.h
   - digikam/digikam.lsm - update date as well

2/ Edited release_digikam.rb and release_digikam_docs.rb script. Update these settings :
   - version.
   - svnbase.
   - addPo (for example addPo = ["showfoto"] if showofoto is include in digikam tarball).
   
Note: docs must be set to 'no' release_digikam.rb because the documentation must
      be packaged in a separate tarball to decrease the source code tarball size.
      There is the seperate script release_digikam_docs.rb to generate this.
      
3/ Update ChangeLog with entries since last release:
   - in existing ChangeLog for the most recent entry
   - release_digikam_cl.sh and modify 'startfrom' and the svn account
   - the script and add the generated ChangeLog.new-entries to
     the ChangeLog file (check for overlap/duplicates)
   - a release tag at the top of ChangeLog as for the other releases
   - the ChangeLog.new-entries

4/ Look at new ChangeLog entries and add highlights to NEWS file
    (this can be used for the release announcement too)
TODO:
   add a recipe/script that converts CCBUGS: <bug#> from ChangeLog.new-entries
   to #<bugno>: title of the bug.  It needs a check if bug is still closed
   otherwise reopened bugs are reported as fixed.

5/ Commit changed files to svn.

8/ Run release_digikam.rb script and the release_digikam_docs.rb 

9/ When tarball is created, decompress it in a temp folder and try to compile it to prevent any problems.

10/ Upload tarball to digikam3rdparty.free.fr area via ftp and post a message on digikam-devel@kde.org mailing list to have a feedback from packagers before posting an offical release annoucement.

11/ When official tarball is ready to post, don't forget to copy current trunk svn branch to tags branch (http://websvn.kde.org/tags/digikam/)

------------------ TAGGING ------------------

Each release has to be tagged. All tags are located in svn in the directory /tags/digikam
You can make a tag by going into your working copy of that folder and issue something _like_:
svn cp http://anonsvn.kde.org/home/kde/extragear/graphics/digikam digikam_0_9_0

and the same for the digikamimageplugins. As you see translations or documentation is not tagged. 

If anyone knows what the purpose of this tagging is, please put it here ;-)

----------------- Branching -----------------

Branching is done, so translators can work in two seperate areas and we can develop unstable and a next stable release.
To set it up, you need to do following. Remember it will take you two evenings to succeed But you need to finish the first part completely, because automated kde scripts will ruin your work.!

- go to /branches/stable/extragear/graphics. 
- svn rm digikam and digikamimageplugins. 
- svn cp http://anonsvn.kde.org/home/kde/extragear/graphics/digikam digikam  and the same for the plugins.

- go to /branches/stable/extragear/graphics/doc
- svn rm digikam and digikamimageplugins and showfoto
- svn cp http://anonsvn.kde.org/home/kde/extragear/graphics/doc/digikam digikam  and the same for the plugins and showfoto

- go to /branches/stale/l10n/templates/docmessages/extragear/graphics
- copy over all digikam, showfoto and plugin files (dont forget the desktop files) from /trunk/l10n/templates/docmessages/extragear/graphics

- repeat last to steps for "messages" instead of "docmessages". No showfoto files in this case.

(go to bed now and do the following tomorrow!) 

- to branch all the language files, you can use the script located in extragear/scripts/
- you need to do that for digikam, showfoto and digikamimageplugins. For digikamimageplugs you need to specify all plugins, so you get something like:
sh  update_l10n_stable.sh --section graphics --app digikamimageplugins -u toma --extrapofiles "digikamimageplugin_adjustcurves.po digikamimageplugin_charcoal.po digikamimageplugin_inpainting.po digikamimageplugin_sheartool.po digikamimageplugin_adjustlevels.po digikamimageplugin_despeckle.po digikamimageplugin_inserttext.po digikamimageplugin_antivignetting.po digikamimageplugin_distortionfx.po digikamimageplugin_lensdistortion.po digikamimageplugin_solarize.po digikamimageplugin_blowup.po digikamimageplugin_emboss.po digikamimageplugin_oilpaint.po digikamimageplugin_superimpose.po digikamimageplugin_blurfx.po digikamimageplugin_filmgrain.po digikamimageplugin_perspective.po digikamimageplugin_texture.po digikamimageplugin_border.po digikamimageplugin_freerotation.po digikamimageplugin_raindrop.po digikamimageplugin_unsharp.po digikamimageplugin_channelmixer.po digikamimageplugin_infrared.po digikamimageplugin_restoration.po digikamimageplugin_whitebalance.po digikamimageplugin_refocus.po digikamimageplugin_hotpixels.po "

-check that all plugins are copied over, last time the last one in the list did not make it.

- send a mail to the ml and kde-i18n-docs.

---------------------------------------------------
